/*! SearchinGhost v1.1.0 (https://github.com/gmfmi/searchinGhost#readme) license MIT */
var SearchinGhost=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;!function(n,i,o){var s;(s=o.define)&&s.amd?s([],(function(){return i})):(s=o.modules)?s[n.toLowerCase()]=i:"object"===r(e)?t.exports=i:o[n]=i}("FlexSearch",function t(e){function n(t,e){var n=e?e.id:t&&t.id;this.id=n||0===n?n:P++,this.init(t,e),a(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),a(this,"length",(function(){return this.index.length}))}function i(t,e,n,r){return this.u!==this.g&&(this.o=this.o.concat(n),this.u++,r&&this.o.length>=r&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(e,this.o),this.F&&this.F(this.o))),this}function o(t,e){for(var n=t.length,r=w(e),i=[],o=0,s=0;o<n;o++){var a=t[o];(r&&e(a)||!r&&!e[a])&&(i[s++]=a)}return i}function s(t,e,n,r,i,o,s,a,c,u){var f;if(n=m(n,s?0:i,a,o,e,c,u),a&&(a=n.page,f=n.next,n=n.result),s)e=this.where(s,null,i,n);else{for(e=n,n=this.l,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=n[e[s]];e=o}return n=e,r&&(w(r)||(1<(E=r.split(":")).length?r=g:(E=E[0],r=p)),n.sort(r)),n=v(a,f,n),this.cache&&this.j.set(t,n),n}function a(t,e,n){Object.defineProperty(t,e,{get:n})}function c(t){return new RegExp(t,"g")}function u(t,e){for(var n=0;n<e.length;n+=2)t=t.replace(e[n],e[n+1]);return t}function f(t,e,n,r,i,o,s,a){return e[n]?e[n]:(i=i?(a-(s||a/1.5))*o+(s||a/1.5)*i:o,e[n]=i,i>=s&&((t=(t=t[a-(i+.5>>0)])[n]||(t[n]=[]))[t.length]=r),i)}function h(t,e){if(t)for(var n=Object.keys(t),r=0,i=n.length;r<i;r++){var o=n[r],s=t[o];if(s)for(var a=0,c=s.length;a<c;a++){if(s[a]===e){1===c?delete t[o]:s.splice(a,1);break}S(s[a])&&h(s[a],e)}}}function l(t){for(var e="",n="",r="",i=0;i<t.length;i++){var o=t[i];o!==n&&(i&&"h"===o?(r="a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&r||" "===n)&&(e+=o)):e+=o),r=i===t.length-1?"":t[i+1],n=o}return e}function d(t,e){return 0>(t=t.length-e.length)?1:t?-1:0}function p(t,e){return(t=t[E])<(e=e[E])?-1:t>e?1:0}function g(t,e){for(var n=E.length,r=0;r<n;r++)t=t[E[r]],e=e[E[r]];return t<e?-1:t>e?1:0}function v(t,e,n){return t?{page:t,next:e?""+e:null,result:n}:n}function m(t,e,n,r,i,o,s){var a,c=[];if(!0===n){n="0";var u=""}else u=n&&n.split(":");var f=t.length;if(1<f){var h,l,d,p,g,m,b,w,S,j,k=O(),_=[],E=0,T=!0,L=0;if(u&&(2===u.length?(w=u,u=!1):u=S=parseInt(u[0],10)),s){for(h=O();E<f;E++)if("not"===i[E])for(p=(l=t[E]).length,d=0;d<p;d++)h["@"+l[d]]=1;else b=E+1;if(x(b))return v(n,a,c);E=0}else m=y(i)&&i;for(;E<f;E++){var C=E===(b||f)-1;if(!m||!E)if((d=m||i&&i[E])&&"and"!==d){if("or"!==d)continue;j=!1}else j=o=!0;if(p=(l=t[E]).length){if(T){if(!g){g=l;continue}var P=g.length;for(d=0;d<P;d++){var A="@"+(T=g[d]);s&&h[A]||(k[A]=1,o||(c[L++]=T))}g=null,T=!1}for(A=!1,d=0;d<p;d++){var I="@"+(P=l[d]),R=o?k[I]||0:E;if(!(!R&&!r||s&&h[I]||!o&&k[I]))if(R===E){if(C){if((!S||--S<L)&&(c[L++]=P,e&&L===e))return v(n,L+(u||0),c)}else k[I]=E+1;A=!0}else r&&((I=_[R]||(_[R]=[]))[I.length]=P)}if(j&&!A&&!r)break}else if(j&&!r)return v(n,a,l)}if(g)if(E=g.length,s)for(d=u?parseInt(u,10):0;d<E;d++)h["@"+(t=g[d])]||(c[L++]=t);else c=g;if(r)for(L=c.length,w?(E=parseInt(w[0],10)+1,d=parseInt(w[1],10)+1):(E=_.length,d=0);E--;)if(P=_[E]){for(p=P.length;d<p;d++)if(r=P[d],(!s||!h["@"+r])&&(c[L++]=r,e&&L===e))return v(n,E+":"+d,c);d=0}}else!f||i&&"not"===i[0]||(c=t[0],u&&(u=parseInt(u[0],10)));return e&&(s=c.length,u&&u>s&&(u=0),(a=(u=u||0)+e)<s?c=c.slice(u,a):(a=0,u&&(c=c.slice(u)))),v(n,a,c)}function y(t){return"string"==typeof t}function b(t){return t.constructor===Array}function w(t){return"function"==typeof t}function S(t){return"object"===r(t)}function x(t){return void 0===t}function j(t){for(var e=Array(t),n=0;n<t;n++)e[n]=O();return e}function O(){return Object.create(null)}function k(){var t,e;self.onmessage=function(n){if(n=n.data)if(n.search){var r=e.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:t,content:n.content,limit:n.limit,result:r})}else n.add?e.add(n.id,n.content):n.update?e.update(n.id,n.content):n.remove?e.remove(n.id):n.clear?e.clear():n.info?((n=e.info()).worker=t,console.log(n)):n.register&&(t=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,e=new(e=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))())(n.options))}}function _(n,r,i,o){n=e("flexsearch","id"+n,k,(function(t){(t=t.data)&&t.result&&o(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)}),r);var s=t.toString();return i.id=r,n.postMessage({register:s,options:i,id:r}),n}var E,T={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},L={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},C=[],P=0,A={},I={};n.create=function(t,e){return new n(t,e)},n.registerMatcher=function(t){for(var e in t)t.hasOwnProperty(e)&&C.push(c(e),t[e]);return this},n.registerEncoder=function(t,e){return U[t]=e.bind(U),this},n.registerLanguage=function(t,e){return A[t]=e.filter,I[t]=e.stemmer,this},n.encode=function(t,e){return U[t](e)},n.prototype.init=function(t,e){if(this.v=[],e){var r=e.preset;t=e}else t||(t=T),r=t.preset;if(e={},y(t)?(e=L[t],t={}):r&&(e=L[r]),r=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.m=null;else{var o=parseInt(r,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(o);for(var s=0;s<o;s++)this.m[s]=_(this.id,s,t,i.bind(this))}if(this.f=t.tokenize||e.f||this.f||T.f,this.split=x(r=t.split)?this.split||T.split:y(r)?c(r):r,this.D=t.rtl||this.D||T.D,this.async="undefined"==typeof Promise||x(r=t.async)?this.async||T.async:r,this.g=x(r=t.worker)?this.g||T.g:r,this.threshold=x(r=t.threshold)?e.threshold||this.threshold||T.threshold:r,this.b=x(r=t.resolution)?r=e.b||this.b||T.b:r,r<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||x(r=t.depth)?e.depth||this.depth||T.depth:r,this.w=(r=x(r=t.encode)?e.encode||T.encode:r)&&U[r]&&U[r].bind(U)||(w(r)?r:this.w||!1),(r=t.matcher)&&this.addMatcher(r),r=(e=t.lang)||t.filter){if(y(r)&&(r=A[r]),b(r)){o=this.w,s=O();for(var a=0;a<r.length;a++){var u=o?o(r[a]):r[a];s[u]=1}r=s}this.filter=r}if(r=e||t.stemmer){var f;for(f in e=y(r)?I[r]:r,o=this.w,s=[],e)e.hasOwnProperty(f)&&(a=o?o(f):f,s.push(c(a+"($|\\W)"),o?o(e[f]):e[f]));this.stemmer=f=s}if(this.a=s=(r=t.doc)?function t(e){var n=O();for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];b(i)?n[r]=i.slice(0):S(i)?n[r]=t(i):n[r]=i}return n}(r):this.a||T.a,this.i=j(this.b-(this.threshold||0)),this.h=O(),this.c=O(),s){if(this.l=O(),t.doc=null,f=s.index={},e=s.keys=[],o=s.field,a=s.tag,u=s.store,b(s.id)||(s.id=s.id.split(":")),u){var h=O();if(y(u))h[u]=1;else if(b(u))for(var l=0;l<u.length;l++)h[u[l]]=1;else S(u)&&(h=u);s.store=h}if(a){if(this.G=O(),u=O(),o)if(y(o))u[o]=t;else if(b(o))for(h=0;h<o.length;h++)u[o[h]]=t;else S(o)&&(u=o);for(b(a)||(s.tag=a=[a]),o=0;o<a.length;o++)this.G[a[o]]=O();this.I=a,o=u}var d;if(o)for(b(o)||(S(o)?(d=o,s.field=o=Object.keys(o)):s.field=o=[o]),s=0;s<o.length;s++)b(a=o[s])||(d&&(t=d[a]),e[s]=a,o[s]=a.split(":")),f[a]=new n(t);t.doc=r}return this.B=!0,this.j=!!(this.cache=r=x(r=t.cache)?this.cache||T.cache:r)&&new D(r),this},n.prototype.encode=function(t){return t&&(C.length&&(t=u(t,C)),this.v.length&&(t=u(t,this.v)),this.w&&(t=this.w(t)),this.stemmer&&(t=u(t,this.stemmer))),t},n.prototype.addMatcher=function(t){var e=this.v;for(var n in t)t.hasOwnProperty(n)&&e.push(c(n),t[n]);return this},n.prototype.add=function(t,e,n,r,i){if(this.a&&S(t))return this.A("add",t,e);if(e&&y(e)&&(t||0===t)){var s="@"+t;if(this.c[s]&&!r)return this.update(t,e);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:t,content:e}),this.c[s]=""+this.C,n&&n(),this;if(!i){if(this.async&&"function"!=typeof importScripts){var a=this;return s=new Promise((function(n){setTimeout((function(){a.add(t,e,null,r,!0),a=null,n()}))})),n?(s.then(n),this):s}if(n)return this.add(t,e,null,r,!0),n(),this}if(!(e=this.encode(e)).length)return this;i=w(n=this.f)?n(e):e.split(this.split),this.filter&&(i=o(i,this.filter));var c=O();c._ctx=O();for(var u=i.length,h=this.threshold,l=this.depth,d=this.b,p=this.i,g=this.D,v=0;v<u;v++){var m=i[v];if(m){var b=m.length,x=(g?v+1:u-v)/u,k="";switch(n){case"reverse":case"both":for(var _=b;--_;)f(p,c,k=m[_]+k,t,g?1:(b-_)/b,x,h,d-1);k="";case"forward":for(_=0;_<b;_++)f(p,c,k+=m[_],t,g?(_+1)/b:1,x,h,d-1);break;case"full":for(_=0;_<b;_++)for(var E=(g?_+1:b-_)/b,T=b;T>_;T--)f(p,c,k=m.substring(_,T),t,E,x,h,d-1);break;default:if(b=f(p,c,m,t,1,x,h,d-1),l&&1<u&&b>=h)for(b=c._ctx[m]||(c._ctx[m]=O()),m=this.h[m]||(this.h[m]=j(d-(h||0))),0>(x=v-l)&&(x=0),(k=v+l+1)>u&&(k=u);x<k;x++)x!==v&&f(m,b,i[x],t,0,d-(x<v?v-x:x-v),h,d-1)}}}this.c[s]=1,this.B=!1}return this},n.prototype.A=function(t,e,n){if(b(e)){var r=e.length;if(r--){for(var i=0;i<r;i++)this.A(t,e[i]);return this.A(t,e[r],n)}}else{var o,s=this.a.index,a=this.a.keys,c=this.a.tag;i=this.a.store;var u=this.a.id;r=e;for(var f=0;f<u.length;f++)r=r[u[f]];if("remove"===t&&(delete this.l[r],u=a.length,u--)){for(e=0;e<u;e++)s[a[e]].remove(r);return s[a[u]].remove(r,n)}if(c){for(o=0;o<c.length;o++){var h=c[o],l=e;for(u=h.split(":"),f=0;f<u.length;f++)l=l[u[f]];l="@"+l}o=(o=this.G[h])[l]||(o[l]=[])}for(var d=0,p=(u=this.a.field).length;d<p;d++){for(h=u[d],c=e,l=0;l<h.length;l++)c=c[h[l]];h=s[a[d]],l="add"===t?h.add:h.update,d===p-1?l.call(h,r,c,n):l.call(h,r,c)}if(i){for(n=Object.keys(i),t=O(),s=0;s<n.length;s++)if(i[a=n[s]]){a=a.split(":");var g=void 0,v=void 0;for(u=0;u<a.length;u++)g=(g||e)[c=a[u]],v=(v||t)[c]=g}e=t}o&&(o[o.length]=e),this.l[r]=e}return this},n.prototype.update=function(t,e,n){return this.a&&S(t)?this.A("update",t,e):(this.c["@"+t]&&y(e)&&(this.remove(t),this.add(t,e,n,!0)),this)},n.prototype.remove=function(t,e,n){if(this.a&&S(t))return this.A("remove",t,e);var r="@"+t;if(this.c[r]){if(this.g)return this.m[this.c[r]].postMessage({remove:!0,id:t}),delete this.c[r],e&&e(),this;if(!n){if(this.async&&"function"!=typeof importScripts){var i=this;return r=new Promise((function(e){setTimeout((function(){i.remove(t,null,!0),i=null,e()}))})),e?(r.then(e),this):r}if(e)return this.remove(t,null,!0),e(),this}for(e=0;e<this.b-(this.threshold||0);e++)h(this.i[e],t);this.depth&&h(this.h,t),delete this.c[r],this.B=!1}return this},n.prototype.search=function(t,e,n,r){if(S(e)){if(b(e))for(var i=0;i<e.length;i++)e[i].query=t;else e.query=t;t=e,e=1e3}else e&&w(e)?(n=e,e=1e3):e||0===e||(e=1e3);if(!this.g){var a=[],c=t;if(S(t)&&!b(t)){n||(n=t.callback)&&(c.callback=null);var u=t.sort,f=t.page;e=t.limit,U=t.threshold;var h=t.suggest;t=t.query}if(this.a){U=this.a.index;var l,p,g=c.where,v=c.bool||"or",x=c.field,j=v;if(x)b(x)||(x=[x]);else if(b(c)){var k=c;x=[],j=[];for(var _=0;_<c.length;_++)i=(r=c[_]).bool||v,x[_]=r.field,j[_]=i,"not"===i?l=!0:"and"===i&&(p=!0)}else x=this.a.keys;for(v=x.length,_=0;_<v;_++)k&&(c=k[_]),f&&!y(c)&&(c.page=null,c.limit=0),a[_]=U[x[_]].search(c,0);if(n)return n(s.call(this,t,j,a,u,e,h,g,f,p,l));if(this.async){var E=this;return new Promise((function(n){Promise.all(a).then((function(r){n(s.call(E,t,j,r,u,e,h,g,f,p,l))}))}))}return s.call(this,t,j,a,u,e,h,g,f,p,l)}if(U||(U=this.threshold||0),!r){if(this.async&&"function"!=typeof importScripts){var T=this;return U=new Promise((function(t){setTimeout((function(){t(T.search(c,e,null,!0)),T=null}))})),n?(U.then(n),this):U}if(n)return n(this.search(c,e,null,!0)),this}if(!t||!y(t))return a;if(c=t,this.cache)if(this.B){if(n=this.j.get(t))return n}else this.j.clear(),this.B=!0;if(!(c=this.encode(c)).length)return a;n=w(n=this.f)?n(c):c.split(this.split),this.filter&&(n=o(n,this.filter)),k=n.length,r=!0,i=[];var L=O(),C=0;if(1<k&&(this.depth&&"strict"===this.f?v=!0:n.sort(d)),!v||(_=this.h))for(var P=this.b;C<k;C++){var A=n[C];if(A){if(v){if(!x)if(_[A])x=A,L[A]=1;else if(!h)return a;if(h&&C===k-1&&!i.length)v=!1,L[A=x||A]=0;else if(!x)continue}if(!L[A]){var I=[],R=!1,M=0,F=v?_[x]:this.i;if(F)for(var N=void 0,B=0;B<P-U;B++)(N=F[B]&&F[B][A])&&(I[M++]=N,R=!0);if(R)x=A,i[i.length]=1<M?I.concat.apply([],I):I[0];else if(!h){r=!1;break}L[A]=1}}}else r=!1;return r&&(a=m(i,e,f,h)),this.cache&&this.j.set(t,a),a}this.F=n,this.u=0,this.o=[];for(var U=0;U<this.g;U++)this.m[U].postMessage({search:!0,limit:e,content:t})},n.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},n.prototype.where=function(t,e,n,r){var i,o,s,a=this.l,c=[],u=0;if(S(t)){n||(n=e);var f=Object.keys(t),h=f.length;if(i=!1,1===h&&"id"===f[0])return[a[t.id]];if((o=this.I)&&!r)for(var l=0;l<o.length;l++){var d=o[l],p=t[d];if(!x(p)){if(s=this.G[d]["@"+p],0==--h)return s;f.splice(f.indexOf(d),1),delete t[d];break}}for(o=Array(h),l=0;l<h;l++)o[l]=f[l].split(":")}else{if(w(t)){for(n=(e=r||Object.keys(a)).length,f=0;f<n;f++)t(h=a[e[f]])&&(c[u++]=h);return c}if(x(e))return[a[t]];if("id"===t)return[a[e]];f=[t],h=1,o=[t.split(":")],i=!0}for(l=(r=s||r||Object.keys(a)).length,d=0;d<l;d++){p=s?r[d]:a[r[d]];for(var g=!0,v=0;v<h;v++){i||(e=t[f[v]]);var m=o[v],y=m.length,b=p;if(1<y)for(var j=0;j<y;j++)b=b[m[j]];else b=b[m[0]];if(b!==e){g=!1;break}}if(g&&(c[u++]=p,n&&u===n))break}return c},n.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:C.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(var t=0;t<this.g;t++)this.m[t].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){for(var t=this.a.keys,e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.l=null}return this},n.prototype.export=function(t){var e=!t||x(t.serialize)||t.serialize;if(this.a){var n=!t||x(t.doc)||t.doc,r=!t||x(t.index)||t.index;t=[];var i=0;if(r)for(r=this.a.keys;i<r.length;i++){var o=this.a.index[r[i]];t[i]=[o.i,o.h,Object.keys(o.c)]}n&&(t[i]=this.l)}else t=[this.i,this.h,Object.keys(this.c)];return e&&(t=JSON.stringify(t)),t},n.prototype.import=function(t,e){(!e||x(e.serialize)||e.serialize)&&(t=JSON.parse(t));var n=O();if(this.a){var r=!e||x(e.doc)||e.doc,i=0;if(!e||x(e.index)||e.index){for(var o=(e=this.a.keys).length,s=t[0][2];i<s.length;i++)n[s[i]]=1;for(i=0;i<o;i++){s=this.a.index[e[i]];var a=t[i];a&&(s.i=a[0],s.h=a[1],s.c=n)}}r&&(this.l=S(r)?r:t[i])}else{for(r=t[2],i=0;i<r.length;i++)n[r[i]]=1;this.i=t[0],this.h=t[1],this.c=n}};var R,M,F,N,B=(M=c("\\s+"),F=c("[^a-z0-9 ]"),N=[c("[-/]")," ",F,"",M," "],function(t){return l(u(t.toLowerCase(),N))}),U={icase:function(t){return t.toLowerCase()},simple:function(){var t=c("\\s+"),e=c("[^a-z0-9 ]"),n=c("[-/]"),r=[c("[àáâãäå]"),"a",c("[èéêë]"),"e",c("[ìíîï]"),"i",c("[òóôõöő]"),"o",c("[ùúûüű]"),"u",c("[ýŷÿ]"),"y",c("ñ"),"n",c("[çc]"),"k",c("ß"),"s",c(" & ")," and ",n," ",e,"",t," "];return function(t){return" "===(t=u(t.toLowerCase(),r))?"":t}}(),advanced:function(){var t=c("ae"),e=c("ai"),n=c("ay"),r=c("ey"),i=c("oe"),o=c("ue"),s=c("ie"),a=c("sz"),f=c("zs"),h=c("ck"),d=c("cc"),p=[t,"a",e,"ei",n,"ei",r,"ei",i,"o",o,"u",s,"i",a,"s",f,"s",c("sh"),"s",h,"k",d,"k",c("th"),"t",c("dt"),"t",c("ph"),"f",c("pf"),"f",c("ou"),"o",c("uo"),"u"];return function(t,e){return t?(2<(t=this.simple(t)).length&&(t=u(t,p)),e||1<t.length&&(t=l(t)),t):t}}(),extra:(R=[c("p"),"b",c("z"),"s",c("[cgq]"),"k",c("n"),"m",c("d"),"t",c("[vw]"),"f",c("[aeiouy]"),""],function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(var e=0;e<t.length;e++){var n=t[e];1<n.length&&(t[e]=n[0]+u(n.substring(1),R))}t=l(t=t.join(" "))}return t}),balance:B},D=function(){function t(t){this.clear(),this.H=!0!==t&&t}return t.prototype.clear=function(){this.cache=O(),this.count=O(),this.index=O(),this.s=[]},t.prototype.set=function(t,e){if(this.H&&x(this.cache[t])){var n=this.s.length;if(n===this.H){n--;var r=this.s[n];delete this.cache[r],delete this.count[r],delete this.index[r]}this.index[t]=n,this.s[n]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)}else this.cache[t]=e},t.prototype.get=function(t){var e=this.cache[t];if(this.H&&e){var n=++this.count[t],r=this.index,i=r[t];if(0<i){for(var o=this.s,s=i;this.count[o[--i]]<=n&&-1!==i;);if(++i!==s){for(n=s;n>i;n--)s=o[n-1],o[n]=s,r[s]=n;o[i]=t,r[t]=i}}}return e},t}();return n}((i={},o="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL,function(t,e,n,r,s){return n=o?URL.createObjectURL(new Blob(["("+n.toString()+")()"],{type:"text/javascript"})):t+".min.js",i[t+="-"+e]||(i[t]=[]),i[t][s]=new Worker(n),i[t][s].onmessage=r,i[t][s]})),this)},function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return"object"===n(t)?null!==t:"function"==typeof t},i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},s=!o((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}));function a(t,e){return t(e={exports:{}},e.exports),e.exports}var c=a((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),u=c.document,f=r(u)&&r(u.createElement),h=function(t){return f?u.createElement(t):{}},l=!s&&!o((function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})),d=Object.defineProperty,p={f:s?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),i(n),l)try{return d(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},g=p.f,v=Function.prototype,m=/^\s*function ([^ (]*)/;"name"in v||s&&g(v,"name",{configurable:!0,get:function(){try{return(""+this).match(m)[1]}catch(t){return""}}});var y=a((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),b=(y.version,a((function(t){var e=c["__core-js_shared__"]||(c["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:y.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),w=0,S=Math.random(),x=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++w+S).toString(36))},j=a((function(t){var e=b("wks"),n=c.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:x)("Symbol."+t))}).store=e})),O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=s?function(t,e,n){return p.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},_=j("unscopables"),E=Array.prototype;null==E[_]&&k(E,_,{});var T=function(t){E[_][t]=!0},L=function(t,e){return{value:e,done:!!t}},C={},P={}.toString,A=function(t){return P.call(t).slice(8,-1)},I=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==A(t)?t.split(""):Object(t)},R=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},M=function(t){return I(R(t))},F={}.hasOwnProperty,N=function(t,e){return F.call(t,e)},B=b("native-function-to-string",Function.toString),U=a((function(t){var e=x("src"),n=(""+B).split("toString");y.inspectSource=function(t){return B.call(t)},(t.exports=function(t,r,i,o){var s="function"==typeof i;s&&(N(i,"name")||k(i,"name",r)),t[r]!==i&&(s&&(N(i,e)||k(i,e,t[r]?""+t[r]:n.join(String(r)))),t===c?t[r]=i:o?t[r]?t[r]=i:k(t,r,i):(delete t[r],k(t,r,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||B.call(this)}))})),D=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},q=function(t,e,n){if(D(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},G=function t(e,n,r){var i,o,s,a,u=e&t.F,f=e&t.G,h=e&t.P,l=e&t.B,d=f?c:e&t.S?c[n]||(c[n]={}):(c[n]||{}).prototype,p=f?y:y[n]||(y[n]={}),g=p.prototype||(p.prototype={});for(i in f&&(r=n),r)s=((o=!u&&d&&void 0!==d[i])?d:r)[i],a=l&&o?q(s,c):h&&"function"==typeof s?q(Function.call,s):s,d&&U(d,i,s,e&t.U),p[i]!=s&&k(p,i,a),h&&g[i]!=s&&(g[i]=s)};c.core=y,G.F=1,G.G=2,G.S=4,G.P=8,G.B=16,G.W=32,G.U=64,G.R=128;var z=G,H=Math.ceil,W=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?W:H)(t)},J=Math.min,$=function(t){return t>0?J(V(t),9007199254740991):0},K=Math.max,X=Math.min,Q=function(t){return function(e,n,r){var i,o=M(e),s=$(o.length),a=function(t,e){return(t=V(t))<0?K(t+e,0):X(t,e)}(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Y=b("keys"),Z=function(t){return Y[t]||(Y[t]=x(t))},tt=Q(!1),et=Z("IE_PROTO"),nt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),rt=Object.keys||function(t){return function(t,e){var n,r=M(t),i=0,o=[];for(n in r)n!=et&&N(r,n)&&o.push(n);for(;e.length>i;)N(r,n=e[i++])&&(~tt(o,n)||o.push(n));return o}(t,nt)},it=s?Object.defineProperties:function(t,e){i(t);for(var n,r=rt(e),o=r.length,s=0;o>s;)p.f(t,n=r[s++],e[n]);return t},ot=c.document,st=ot&&ot.documentElement,at=Z("IE_PROTO"),ct=function(){},ut=function(){var t,e=h("iframe"),n=nt.length;for(e.style.display="none",st.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ut=t.F;n--;)delete ut.prototype[nt[n]];return ut()},ft=Object.create||function(t,e){var n;return null!==t?(ct.prototype=i(t),n=new ct,ct.prototype=null,n[at]=t):n=ut(),void 0===e?n:it(n,e)},ht=p.f,lt=j("toStringTag"),dt=function(t,e,n){t&&!N(t=n?t:t.prototype,lt)&&ht(t,lt,{configurable:!0,value:e})},pt={};k(pt,j("iterator"),(function(){return this}));var gt=function(t,e,n){t.prototype=ft(pt,{next:O(1,n)}),dt(t,e+" Iterator")},vt=function(t){return Object(R(t))},mt=Z("IE_PROTO"),yt=Object.prototype,bt=Object.getPrototypeOf||function(t){return t=vt(t),N(t,mt)?t[mt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?yt:null},wt=j("iterator"),St=!([].keys&&"next"in[].keys()),xt=function(){return this},jt=function(t,e,n,r,i,o,s){gt(n,e,r);var a,c,u,f=function(t){if(!St&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",l="values"==i,d=!1,p=t.prototype,g=p[wt]||p["@@iterator"]||i&&p[i],v=g||f(i),m=i?l?f("entries"):v:void 0,y="Array"==e&&p.entries||g;if(y&&(u=bt(y.call(new t)))!==Object.prototype&&u.next&&(dt(u,h,!0),"function"!=typeof u[wt]&&k(u,wt,xt)),l&&g&&"values"!==g.name&&(d=!0,v=function(){return g.call(this)}),(St||d||!p[wt])&&k(p,wt,v),C[e]=v,C[h]=xt,i)if(a={values:l?v:f("values"),keys:o?v:f("keys"),entries:m},s)for(c in a)c in p||U(p,c,a[c]);else z(z.P+z.F*(St||d),e,a);return a}(Array,"Array",(function(t,e){this._t=M(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,L(1)):L(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");C.Arguments=C.Array,T("keys"),T("values"),T("entries");for(var Ot=j("iterator"),kt=j("toStringTag"),_t=C.Array,Et={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Tt=rt(Et),Lt=0;Lt<Tt.length;Lt++){var Ct,Pt=Tt[Lt],At=Et[Pt],It=c[Pt],Rt=It&&It.prototype;if(Rt&&(Rt[Ot]||k(Rt,Ot,_t),Rt[kt]||k(Rt,kt,Pt),C[Pt]=_t,At))for(Ct in jt)Rt[Ct]||U(Rt,Ct,jt[Ct],!0)}var Mt,Ft,Nt,Bt;Mt="keys",Ft=function(){return function(t){return rt(vt(t))}},Nt=(y.Object||{})[Mt]||Object[Mt],(Bt={})[Mt]=Ft(Nt),z(z.S+z.F*o((function(){Nt(1)})),"Object",Bt);var Ut={f:Object.getOwnPropertySymbols},Dt={f:{}.propertyIsEnumerable},qt=Object.assign,Gt=!qt||o((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=qt({},t)[n]||Object.keys(qt({},e)).join("")!=r}))?function(t,e){for(var n=vt(t),r=arguments.length,i=1,o=Ut.f,a=Dt.f;r>i;)for(var c,u=I(arguments[i++]),f=o?rt(u).concat(o(u)):rt(u),h=f.length,l=0;h>l;)c=f[l++],s&&!a.call(u,c)||(n[c]=u[c]);return n}:qt;z(z.S+z.F,"Object",{assign:Gt});var zt,Ht,Wt,Vt=j("toStringTag"),Jt="Arguments"==A(function(){return arguments}()),$t=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Vt))?n:Jt?A(e):"Object"==(r=A(e))&&"function"==typeof e.callee?"Arguments":r},Kt=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}},Xt=j("iterator"),Qt=Array.prototype,Yt=j("iterator"),Zt=y.getIteratorMethod=function(t){if(null!=t)return t[Yt]||t["@@iterator"]||C[$t(t)]},te=a((function(t){var e={},n={},r=t.exports=function(t,r,o,s,a){var c,u,f,h,l,d=a?function(){return t}:Zt(t),p=q(o,s,r?2:1),g=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(void 0===(l=d)||C.Array!==l&&Qt[Xt]!==l){for(f=d.call(t);!(u=f.next()).done;)if((h=Kt(f,p,u.value,r))===e||h===n)return h}else for(c=$(t.length);c>g;g++)if((h=r?p(i(u=t[g])[0],u[1]):p(t[g]))===e||h===n)return h};r.BREAK=e,r.RETURN=n})),ee=j("species"),ne=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},re=c.process,ie=c.setImmediate,oe=c.clearImmediate,se=c.MessageChannel,ae=c.Dispatch,ce=0,ue={},fe=function(){var t=+this;if(ue.hasOwnProperty(t)){var e=ue[t];delete ue[t],e()}},he=function(t){fe.call(t.data)};ie&&oe||(ie=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ue[++ce]=function(){ne("function"==typeof t?t:Function(t),e)},zt(ce),ce},oe=function(t){delete ue[t]},"process"==A(re)?zt=function(t){re.nextTick(q(fe,t,1))}:ae&&ae.now?zt=function(t){ae.now(q(fe,t,1))}:se?(Wt=(Ht=new se).port2,Ht.port1.onmessage=he,zt=q(Wt.postMessage,Wt,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(zt=function(t){c.postMessage(t+"","*")},c.addEventListener("message",he,!1)):zt="onreadystatechange"in h("script")?function(t){st.appendChild(h("script")).onreadystatechange=function(){st.removeChild(this),fe.call(t)}}:function(t){setTimeout(q(fe,t,1),0)});var le={set:ie,clear:oe},de=le.set,pe=c.MutationObserver||c.WebKitMutationObserver,ge=c.process,ve=c.Promise,me="process"==A(ge);function ye(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=D(e),this.reject=D(n)}var be={f:function(t){return new ye(t)}},we=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Se=c.navigator,xe=Se&&Se.userAgent||"",je=j("species"),Oe=j("iterator"),ke=!1;try{var _e=[7][Oe]();_e.return=function(){ke=!0},Array.from(_e,(function(){throw 2}))}catch(t){}var Ee,Te,Le,Ce,Pe=le.set,Ae=function(){var t,e,n,r=function(){var r,i;for(me&&(r=ge.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(me)n=function(){ge.nextTick(r)};else if(!pe||c.navigator&&c.navigator.standalone)if(ve&&ve.resolve){var i=ve.resolve(void 0);n=function(){i.then(r)}}else n=function(){de.call(c,r)};else{var o=!0,s=document.createTextNode("");new pe(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),Ie=c.TypeError,Re=c.process,Me=Re&&Re.versions,Fe=Me&&Me.v8||"",Ne=c.Promise,Be="process"==$t(Re),Ue=function(){},De=Te=be.f,qe=!!function(){try{var t=Ne.resolve(1),e=(t.constructor={})[j("species")]=function(t){t(Ue,Ue)};return(Be||"function"==typeof PromiseRejectionEvent)&&t.then(Ue)instanceof e&&0!==Fe.indexOf("6.6")&&-1===xe.indexOf("Chrome/66")}catch(t){}}(),Ge=function(t){var e;return!(!r(t)||"function"!=typeof(e=t.then))&&e},ze=function(t,e){if(!t._n){t._n=!0;var n=t._c;Ae((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,u=e.reject,f=e.domain;try{a?(i||(2==t._h&&Ve(t),t._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===e.promise?u(Ie("Promise-chain cycle")):(o=Ge(n))?o.call(n,c,u):c(n)):u(r)}catch(t){f&&!s&&f.exit(),u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&He(t)}))}},He=function(t){Pe.call(c,(function(){var e,n,r,i=t._v,o=We(t);if(o&&(e=we((function(){Be?Re.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=Be||We(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},We=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ve=function(t){Pe.call(c,(function(){var e;Be?Re.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Je=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),ze(e,!0))},$e=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Ie("Promise can't be resolved itself");(n=Ge(e))?Ae((function(){var i={_w:r,_d:!1};try{n.call(e,q(t,i,1),q(Je,i,1))}catch(t){Je.call(i,t)}})):(r._v=e,r._s=1,ze(r,!1))}catch(t){Je.call({_w:r,_d:!1},t)}}};qe||(Ne=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Ne,"Promise","_h"),D(t),Ee.call(this);try{t(q($e,this,1),q(Je,this,1))}catch(t){Je.call(this,t)}},(Ee=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)U(t,r,e[r],n);return t}(Ne.prototype,{then:function(t,e){var n,r,o,s=De((n=Ne,void 0===(o=i(this).constructor)||null==(r=i(o)[ee])?n:D(r)));return s.ok="function"!=typeof t||t,s.fail="function"==typeof e&&e,s.domain=Be?Re.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&ze(this,!1),s.promise},catch:function(t){return this.then(void 0,t)}}),Le=function(){var t=new Ee;this.promise=t,this.resolve=q($e,t,1),this.reject=q(Je,t,1)},be.f=De=function(t){return t===Ne||t===Ce?new Le(t):Te(t)}),z(z.G+z.W+z.F*!qe,{Promise:Ne}),dt(Ne,"Promise"),function(t){var e=c[t];s&&e&&!e[je]&&p.f(e,je,{configurable:!0,get:function(){return this}})}("Promise"),Ce=y.Promise,z(z.S+z.F*!qe,"Promise",{reject:function(t){var e=De(this);return(0,e.reject)(t),e.promise}}),z(z.S+z.F*!qe,"Promise",{resolve:function(t){return function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=be.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),z(z.S+z.F*!(qe&&function(t,e){if(!e&&!ke)return!1;var n=!1;try{var r=[7],i=r[Oe]();i.next=function(){return{done:n=!0}},r[Oe]=function(){return i},t(r)}catch(t){}return n}((function(t){Ne.all(t).catch(Ue)}))),"Promise",{all:function(t){var e=this,n=De(e),r=n.resolve,i=n.reject,o=we((function(){var n=[],o=0,s=1;te(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=De(e),r=n.reject,i=we((function(){te(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}});var Ke={};Ke[j("toStringTag")]="z",Ke+""!="[object z]"&&U(Object.prototype,"toString",(function(){return"[object "+$t(this)+"]"}),!0);var Xe=j("match"),Qe=function(t,e,n){if(r(i=e)&&(void 0!==(o=i[Xe])?o:"RegExp"==A(i)))throw TypeError("String#"+n+" doesn't accept regex!");var i,o;return String(R(t))},Ye=j("match"),Ze=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ye]=!1,!"/./"[t](e)}catch(t){}}return!0},tn="".startsWith;z(z.P+z.F*Ze("startsWith"),"String",{startsWith:function(t){var e=Qe(this,t,"startsWith"),n=$(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return tn?tn.call(e,r,n):e.slice(n,n+r.length)===r}});var en="".endsWith;z(z.P+z.F*Ze("endsWith"),"String",{endsWith:function(t){var e=Qe(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=$(e.length),i=void 0===n?r:Math.min($(n),r),o=String(t);return en?en.call(e,o,i):e.slice(i-o.length,i)===o}});var nn=Q(!0);z(z.P,"Array",{includes:function(t){return nn(this,t,arguments.length>1?arguments[1]:void 0)}}),T("includes");var rn=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},on=Object.prototype.toString;function sn(t){return"[object Array]"===on.call(t)}function an(t){return void 0===t}function cn(t){return null!==t&&"object"===n(t)}function un(t){return"[object Function]"===on.call(t)}function fn(t,e){if(null!=t)if("object"!==n(t)&&(t=[t]),sn(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var hn={isArray:sn,isArrayBuffer:function(t){return"[object ArrayBuffer]"===on.call(t)},isBuffer:function(t){return null!==t&&!an(t)&&null!==t.constructor&&!an(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:cn,isUndefined:an,isDate:function(t){return"[object Date]"===on.call(t)},isFile:function(t){return"[object File]"===on.call(t)},isBlob:function(t){return"[object Blob]"===on.call(t)},isFunction:un,isStream:function(t){return cn(t)&&un(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:fn,merge:function t(){var e={};function r(r,i){"object"===n(e[i])&&"object"===n(r)?e[i]=t(e[i],r):e[i]=r}for(var i=0,o=arguments.length;i<o;i++)fn(arguments[i],r);return e},deepMerge:function t(){var e={};function r(r,i){"object"===n(e[i])&&"object"===n(r)?e[i]=t(e[i],r):"object"===n(r)?e[i]=t({},r):e[i]=r}for(var i=0,o=arguments.length;i<o;i++)fn(arguments[i],r);return e},extend:function(t,e,n){return fn(e,(function(e,r){t[r]=n&&"function"==typeof e?rn(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function ln(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var dn=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(hn.isURLSearchParams(e))r=e.toString();else{var i=[];hn.forEach(e,(function(t,e){null!=t&&(hn.isArray(t)?e+="[]":t=[t],hn.forEach(t,(function(t){hn.isDate(t)?t=t.toISOString():hn.isObject(t)&&(t=JSON.stringify(t)),i.push(ln(e)+"="+ln(t))})))})),r=i.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function pn(){this.handlers=[]}pn.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},pn.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},pn.prototype.forEach=function(t){hn.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var gn=pn,vn=function(t,e,n){return hn.forEach(n,(function(n){t=n(t,e)})),t},mn=function(t){return!(!t||!t.__CANCEL__)},yn=function(t,e){hn.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},bn=function(t,e,n,r,i){return function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,i)},wn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Sn=hn.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=hn.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},xn=hn.isStandardBrowserEnv()?{write:function(t,e,n,r,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),hn.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),hn.isString(r)&&s.push("path="+r),hn.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},jn=function(t){return new Promise((function(e,n){var r=t.data,i=t.headers;hn.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",a=t.auth.password||"";i.Authorization="Basic "+btoa(s+":"+a)}var c,u,f=(c=t.baseURL,u=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,u):u);if(o.open(t.method.toUpperCase(),dn(f,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(t){var e,n,r,i={};return t?(hn.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=hn.trim(t.substr(0,r)).toLowerCase(),n=hn.trim(t.substr(r+1)),e){if(i[e]&&wn.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}})),i):i}(o.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:t,request:o};!function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(bn("Request failed with status code "+n.status,n.config,null,n.request,n))}(e,n,i),o=null}},o.onabort=function(){o&&(n(bn("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(bn("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(bn(e,t,"ECONNABORTED",o)),o=null},hn.isStandardBrowserEnv()){var h=xn,l=(t.withCredentials||Sn(f))&&t.xsrfCookieName?h.read(t.xsrfCookieName):void 0;l&&(i[t.xsrfHeaderName]=l)}if("setRequestHeader"in o&&hn.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)})),hn.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),n(t),o=null)})),void 0===r&&(r=null),o.send(r)}))},On={"Content-Type":"application/x-www-form-urlencoded"};function kn(t,e){!hn.isUndefined(t)&&hn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var _n,En={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(_n=jn),_n),transformRequest:[function(t,e){return yn(e,"Accept"),yn(e,"Content-Type"),hn.isFormData(t)||hn.isArrayBuffer(t)||hn.isBuffer(t)||hn.isStream(t)||hn.isFile(t)||hn.isBlob(t)?t:hn.isArrayBufferView(t)?t.buffer:hn.isURLSearchParams(t)?(kn(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):hn.isObject(t)?(kn(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};En.headers={common:{Accept:"application/json, text/plain, */*"}},hn.forEach(["delete","get","head"],(function(t){En.headers[t]={}})),hn.forEach(["post","put","patch"],(function(t){En.headers[t]=hn.merge(On)}));var Tn=En;function Ln(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Cn=function(t){return Ln(t),t.headers=t.headers||{},t.data=vn(t.data,t.headers,t.transformRequest),t.headers=hn.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),hn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||Tn.adapter)(t).then((function(e){return Ln(t),e.data=vn(e.data,e.headers,t.transformResponse),e}),(function(e){return mn(e)||(Ln(t),e&&e.response&&(e.response.data=vn(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Pn=function(t,e){e=e||{};var n={},r=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];hn.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),hn.forEach(i,(function(r){hn.isObject(e[r])?n[r]=hn.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:hn.isObject(t[r])?n[r]=hn.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])})),hn.forEach(o,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=r.concat(i).concat(o),a=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return hn.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n};function An(t){this.defaults=t,this.interceptors={request:new gn,response:new gn}}An.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Pn(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[Cn,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},An.prototype.getUri=function(t){return t=Pn(this.defaults,t),dn(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},hn.forEach(["delete","get","head","options"],(function(t){An.prototype[t]=function(e,n){return this.request(hn.merge(n||{},{method:t,url:e}))}})),hn.forEach(["post","put","patch"],(function(t){An.prototype[t]=function(e,n,r){return this.request(hn.merge(r||{},{method:t,url:e,data:n}))}}));var In=An;function Rn(t){this.message=t}Rn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Rn.prototype.__CANCEL__=!0;var Mn=Rn;function Fn(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new Mn(t),e(n.reason))}))}Fn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Fn.source=function(){var t;return{token:new Fn((function(e){t=e})),cancel:t}};var Nn=Fn;function Bn(t){var e=new In(t),n=rn(In.prototype.request,e);return hn.extend(n,In.prototype,e),hn.extend(n,e),n}var Un=Bn(Tn);Un.Axios=In,Un.create=function(t){return Bn(Pn(Un.defaults,t))},Un.Cancel=Mn,Un.CancelToken=Nn,Un.isCancel=mn,Un.all=function(t){return Promise.all(t)},Un.spread=function(t){return function(e){return t.apply(null,e)}};var Dn=Un,qn=Un;Dn.default=qn;var Gn=Dn,zn=["v2","v3","canary"],Hn="@tryghost/content-api";e.a=function t(e){var n=e.url,r=e.host,i=e.ghostPath,o=void 0===i?"ghost":i,s=e.version,a=e.key;if(r&&(console.warn("".concat(Hn,": The 'host' parameter is deprecated, please use 'url' instead")),n||(n=r)),this instanceof t)return t({url:n,version:s,key:a});if(!s)throw new Error("".concat(Hn," Config Missing: 'version' is required. E.g. ").concat(zn.join(",")));if(!zn.includes(s))throw new Error("".concat(Hn," Config Invalid: 'version' ").concat(s," is not supported"));if(!n)throw new Error("".concat(Hn," Config Missing: 'url' is required. E.g. 'https://site.com'"));if(!/https?:\/\//.test(n))throw new Error("".concat(Hn," Config Invalid: 'url' ").concat(n," requires a protocol. E.g. 'https://site.com'"));if(n.endsWith("/"))throw new Error("".concat(Hn," Config Invalid: 'url' ").concat(n," must not have a trailing slash. E.g. 'https://site.com'"));if(o.endsWith("/")||o.startsWith("/"))throw new Error("".concat(Hn," Config Invalid: 'ghostPath' ").concat(o," must not have a leading or trailing slash. E.g. 'ghost'"));if(a&&!/[0-9a-f]{26}/.test(a))throw new Error("".concat(Hn," Config Invalid: 'key' ").concat(a," must have 26 hex characters"));var c=["posts","authors","tags","pages","settings"].reduce((function(t,e){return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,{read:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||!t.id&&!t.slug)return Promise.reject(new Error("".concat(Hn," read requires an id or slug.")));var i=Object.assign({},t,n);return u(e,i,t.id||"slug/".concat(t.slug),r)},browse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(e,t,null,n)}}))}),{});return delete c.settings.read,c;function u(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!i&&!a)return Promise.reject(new Error("".concat(Hn," Config Missing: 'key' is required.")));delete e.id;var c=i?{Authorization:"GhostMembers ".concat(i)}:void 0;return Gn.get("".concat(n,"/").concat(o,"/api/").concat(s,"/content/").concat(t,"/").concat(r?r+"/":""),{params:Object.assign({key:a},e),paramsSerializer:function(t){return Object.keys(t).reduce((function(e,n){var r=encodeURIComponent([].concat(t[n]).join(","));return e.concat("".concat(n,"=").concat(r))}),[]).join("&")},headers:c}).then((function(e){return Array.isArray(e.data[t])?1!==e.data[t].length||e.data.meta?Object.assign(e.data[t],{meta:e.data.meta}):e.data[t][0]:e.data[t]})).catch((function(t){if(t.response&&t.response.data&&t.response.data.errors){var e=t.response.data.errors[0],n=new Error(e.message),r=Object.keys(e);throw n.name=e.type,r.forEach((function(t){n[t]=e[t]})),n.response=t.response,n.request=t.request,n.config=t.config,n}throw t}))}}}).call(this,n(3))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var r=n(0),i=n.n(r),o=n(1);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={url:window.location.origin,key:"",version:"v3",loadOn:"focus",searchOn:"keyup",limit:10,inputId:"search-bar",outputId:"search-results",outputChildsType:"li",postsFields:["title","url","excerpt","custom_excerpt","published_at","feature_image"],postsExtraFields:["tags"],postsFormats:["plaintext"],indexedFields:["title","string_tags","excerpt","plaintext"],template:function(t){var e='<a href="'.concat(t.url,'">');return t.feature_image&&(e+='<img src="'.concat(t.feature_image,'">')),e+="<section>",t.tags.length>0?e+='<header>\n                            <span class="head-tags">'.concat(t.tags[0].name,'</span>\n                            <span class="head-date">').concat(t.published_at,"</span>\n                          </header>"):e+='<header>\n                            <span class="head-tags">UNKNOWN</span>\n                            <span class="head-date">'.concat(t.published_at,"</span>\n                          </header>"),e+="<h2>".concat(t.title,"</h2>"),e+="</section></a>"},emptyTemplate:function(){},customProcessing:function(t){return t.tags&&(t.string_tags=t.tags.map((function(t){return t.name})).join(" ").toLowerCase()),t},date:{locale:document.documentElement.lang||"en-US",options:{year:"numeric",month:"short",day:"numeric"}},cacheMaxAge:1800,onFetchStart:function(){},onFetchEnd:function(t){},onIndexBuildStart:function(){},onIndexBuildEnd:function(t){},onSearchStart:function(){},onSearchEnd:function(t){},debug:!1},this.dataLoaded=!1,this.postsCount=0,this.storage=this.getLocalStorage(),this.init(e),this.setEventListners(),this.start()}var e,n,r;return e=t,(n=[{key:"init",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=s(n[e],2),i=r[0],a=r[1];this.config[i]=a}this.originalPostsFields=this.config.postsFields,this.config.postsFields.includes("updated_at")||this.config.postsFields.push("updated_at");var c=document.getElementById(this.config.inputId);if(!c)throw"Enable to find the input #".concat(this.config.inputId,", please check your configuration");this.searchBar=c,this.ghostApi=new o.a({url:this.config.url,key:this.config.key,version:this.config.version}),this.index=this.getNewSearchIndex()}},{key:"getNewSearchIndex",value:function(){return new i.a({doc:{id:"id",field:this.config.indexedFields},encode:"simple",tokenize:"forward",threshold:0,resolution:4,depth:0})}},{key:"setEventListners",value:function(){var t=this,e=this.searchBar.closest("form");switch(e&&e.addEventListener("submit",(function(e){e.preventDefault(),t.dataLoaded||t.loadResources();var n=t.searchBar.value.toLowerCase();t.search(n)})),this.config.searchOn){case"keyup":this.searchBar.addEventListener("keyup",(function(){t.dataLoaded||t.loadResources();var e=t.searchBar.value.toLowerCase();t.search(e)}));break;case"submit":if(!e)throw"No form associated with the input ID #".concat(this.config.inputId,", unable to start SearchinGhost");break;case"none":break;default:throw'Unknown "searchOn" option: \''.concat(this.config.searchOn,"'")}}},{key:"start",value:function(){var t=this;switch(this.config.loadOn){case"focus":this.searchBar.addEventListener("focus",(function(){t.dataLoaded||t.loadResources()}));break;case"page":window.addEventListener("load",(function(){t.dataLoaded||t.loadResources()}));break;case"none":break;default:throw'Unknown "loadOn" option: \''.concat(this.config.loadOn,"'")}}},{key:"loadResources",value:function(){if(!this.storage)return this.log("No local storage available, switch to degraded mode"),void this.fetch();var t=this.storage.getItem("SearchinGhost_index");t?(this.log("Found an index stored locally, loads it"),this.config.onIndexBuildStart(),this.index.import(t),this.dataLoaded=!0,this.config.onIndexBuildEnd(this.index),this.validateCache()):(this.log("No already stored index found"),this.fetch())}},{key:"validateCache",value:function(){var t=this,e=this.storage.getItem("SearchinGhost_lastCacheUpdateTimestamp");if(!e)return this.log("No cache update timestamp found, purge the cache"),void this.fetch();e=new Date(e);var n=Math.round((new Date-e)/1e3);n<this.config.cacheMaxAge?this.log("Skip cache refreshing, updated less than ".concat(this.config.cacheMaxAge,"s ago (").concat(n,"s)")):this.ghostApi.posts.browse({limit:1,fields:["updated_at"],order:"updated_at DESC"}).then((function(e){var n=t.storage.getItem("SearchinGhost_updatedat");e[0].updated_at!==n?(t.log("Local cache outdated, purge it"),t.fetch()):(t.log("Local cached data up to date"),t.storage.setItem("SearchinGhost_lastCacheUpdateTimestamp",(new Date).toISOString()))})).catch((function(t){console.error("Unable to fetch the latest post information to check cache state",t)}))}},{key:"fetch",value:function(){var t=this;this.log("Fetching data from Ghost API"),this.config.onFetchStart();var e={limit:"all",fields:this.config.postsFields,order:"updated_at DESC"};this.config.postsExtraFields.length>0&&(e.include=this.config.postsExtraFields),this.config.postsFormats.length>0&&(e.formats=this.config.postsFormats),this.ghostApi.posts.browse(e).then((function(e){t.config.onFetchEnd(e),t.config.onIndexBuildStart();var n=e[0].updated_at;t.index=t.getNewSearchIndex(),e.forEach((function(e){var n=t.format(e);n&&t.index.add(n)})),t.dataLoaded=!0,t.config.onIndexBuildEnd(t.index),t.storage&&(t.storage.setItem("SearchinGhost_index",t.index.export()),t.storage.setItem("SearchinGhost_updatedat",n),t.storage.setItem("SearchinGhost_lastCacheUpdateTimestamp",(new Date).toISOString())),t.log("Search index build complete")})).catch((function(t){console.error("Unable to fetch Ghost data resources",t)}))}},{key:"format",value:function(t){return t.id=this.postsCount++,t.published_at=this.prettyDate(t.published_at),this.originalPostsFields.includes("updated_at")||delete t.updated_at,t.custom_excerpt&&(t.excerpt=t.custom_excerpt,delete t.custom_excerpt),t=this.config.customProcessing(t)}},{key:"prettyDate",value:function(t){return new Date(t).toLocaleDateString(this.config.date.locale,this.config.date.options)}},{key:"search",value:function(t){this.config.onSearchStart();var e=this.index.search(t,{limit:this.config.limit});this.display(e),this.config.onSearchEnd(e)}},{key:"display",value:function(t){var e=this,n=document.getElementById(this.config.outputId);if(n.innerHTML="",t.length<1){var r=this.evaluateTemplate(this.config.emptyTemplate,null);r&&n.appendChild(r)}else t.forEach((function(t){var r=e.evaluateTemplate(e.config.template,t);r&&n.appendChild(r)}))}},{key:"evaluateTemplate",value:function(t,e){var n=t(e);if(n){var r=document.createElement(this.config.outputChildsType);return r.classList.add("".concat(this.config.outputId,"-item")),r.innerHTML=n,r}}},{key:"getLocalStorage",value:function(){try{return window.localStorage.setItem("test",""),window.localStorage.removeItem("test"),window.localStorage}catch(t){return}}},{key:"log",value:function(t){this.config.debug&&console.log(t)}}])&&c(e.prototype,n),r&&c(e,r),t}()},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,h=-1;function l(){f&&c&&(f=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!f){var t=a(l);f=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||f||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]).default;