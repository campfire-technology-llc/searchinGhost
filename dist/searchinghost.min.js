/*! SearchinGhost v1.6.3 (https://github.com/gmfmi/searchinGhost#readme) license MIT */
var SearchinGhost=function(u){var t={};function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return u[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=u,e.c=t,e.d=function(u,t,n){e.o(u,t)||Object.defineProperty(u,t,{enumerable:!0,get:n})},e.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},e.t=function(u,t){if(1&t&&(u=e(u)),8&t)return u;if(4&t&&"object"==typeof u&&u&&u.__esModule)return u;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:u}),2&t&&"string"!=typeof u)for(var i in u)e.d(n,i,function(t){return u[t]}.bind(null,i));return n},e.n=function(u){var t=u&&u.__esModule?function(){return u.default}:function(){return u};return e.d(t,"a",t),t},e.o=function(u,t){return Object.prototype.hasOwnProperty.call(u,t)},e.p="",e(e.s=1)}([function(module,exports,__webpack_require__){(function(module){function _typeof(u){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(u)}
/**!
 * FlexSearch.js v0.7.21 (Bundle)
 * Copyright 2018-2021 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */!function _f(self){"use strict";try{module&&(self=module)}catch(u){}var t;function u(u){return void 0===u||u}function aa(u){for(var t=Array(u),e=0;e<u;e++)t[e]=v();return t}function v(){return Object.create(null)}function ba(u,t){return t.length-u.length}function x(u){return"string"==typeof u}function C(u){return"object"===_typeof(u)}function D(u){return"function"==typeof u}function ca(u,t){var e=da;if(u&&(t&&(u=E(u,t)),this.H&&(u=E(u,this.H)),this.J&&1<u.length&&(u=E(u,this.J)),e||""===e)){if(u=u.split(e),this.filter){t=this.filter,e=u.length;for(var n=[],i=0,r=0;i<e;i++){var D=u[i];D&&!t[D]&&(n[r++]=D)}u=n}return u}return u}self._factory=_f;var da=/(?:[\0-\/:-@\[-`\{-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF3-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D64\u0D65\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u17EF\u17FA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u3191\u3196-\u319F\u31C0-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA82F\uA836-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE7-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF55-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC51\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC6D-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFBF\uDFD5-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE97-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDEDF\uDEF4-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCAC\uDCB0\uDCB5-\uDD00\uDD2E\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+/,ea=/[\u0300-\u036f]/g;function fa(u,t){for(var e,n,i=Object.keys(u),r=i.length,D=[],a="",s=0,o=0;o<r;o++)(n=u[e=i[o]])?(D[s++]=F(t?"(?!\\b)"+e+"(\\b|_)":e),D[s++]=n):a+=(a?"|":"")+e;return a&&(D[s++]=F(t?"(?!\\b)("+a+")(\\b|_)":"("+a+")"),D[s]=""),D}function E(u,t){for(var e=0,n=t.length;e<n&&(u=u.replace(t[e],t[e+1]));e+=2);return u}function F(u){return new RegExp(u,"g")}function ha(u){for(var t,e="",n="",i=0,r=u.length;i<r;i++)(t=u[i])!==n&&(e+=n=t);return e}var ja={encode:ia,F:!1,G:""};function ia(u){return ca.call(this,(""+u).toLowerCase(),!1)}var ka={},G={};function la(u){I(u,"add"),I(u,"append"),I(u,"search"),I(u,"update"),I(u,"remove")}function I(u,t){u[t+"Async"]=function(){var u,e=this,n=arguments,i=n[n.length-1];return D(i)&&(u=i,delete n[n.length-1]),i=new Promise((function(u){setTimeout((function(){e.async=!0;var i=e[t].apply(e,n);e.async=!1,u(i)}))})),u?(i.then(u),this):i}}function ma(u,t,e,n){var i,r,D=u.length,a=[],s=0;n&&(n=[]);for(var o=D-1;0<=o;o--){for(var F=u[o],h=F.length,c=v(),l=!i,f=0;f<h;f++){var d=F[f],C=d.length;if(C)for(var E,A,g=0;g<C;g++)if(A=d[g],i){if(i[A]){if(!o)if(e)e--;else if(a[s++]=A,s===t)return a;(o||n)&&(c[A]=1),l=!0}if(n&&(r[A]=(E=r[A])?++E:E=1,E<D)){var p=n[E-2]||(n[E-2]=[]);p[p.length]=A}}else c[A]=1}if(n)i||(r=c);else if(!l)return[];i=c}if(n)for(var B,m,y=n.length-1;0<=y;y--){m=(B=n[y]).length;for(var x,b=0;b<m;b++)if(!i[x=B[b]]){if(e)e--;else if(a[s++]=x,s===t)return a;i[x]=1}}return a}function na(u,t){for(var e=v(),n=v(),i=[],r=0;r<u.length;r++)e[u[r]]=1;for(var D,a=0;a<t.length;a++){D=t[a];for(var s,o=0;o<D.length;o++)e[s=D[o]]&&!n[s]&&(n[s]=1,i[i.length]=s)}return i}function J(u){this.l=!0!==u&&u,this.cache=v(),this.h=[]}function oa(u,t,e){C(u)&&(u=u.query);var n=this.cache.get(u);return n||(n=this.search(u,t,e),this.cache.set(u,n)),n}J.prototype.set=function(u,t){if(!this.cache[u]){var e=this.h.length;for(e===this.l?delete this.cache[this.h[e-1]]:e++,--e;0<e;e--)this.h[e]=this.h[e-1];this.h[0]=u}this.cache[u]=t},J.prototype.get=function(u){var t=this.cache[u];if(this.l&&t&&(u=this.h.indexOf(u))){var e=this.h[u-1];this.h[u-1]=this.h[u],this.h[u]=e}return t};var qa={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function ra(u,t,e,n,i,r){setTimeout((function(){var D=u(e,JSON.stringify(r));D&&D.then?D.then((function(){t.export(u,t,e,n,i+1)})):t.export(u,t,e,n,i+1)}))}function K(t,e){if(!(this instanceof K))return new K(t);var n;if(t){x(t)?t=qa[t]:(n=t.preset)&&(t=Object.assign({},n[n],t)),n=t.charset;var i=t.lang;x(n)&&(-1===n.indexOf(":")&&(n+=":default"),n=G[n]),x(i)&&(i=ka[i])}else t={};var r,D,a=t.context||{};if(this.encode=t.encode||n&&n.encode||ia,this.register=e||v(),this.D=r=t.resolution||9,this.G=e=n&&n.G||t.tokenize||"strict",this.depth="strict"===e&&a.depth,this.l=u(a.bidirectional),this.s=D=u(t.optimize),this.m=u(t.fastupdate),this.B=t.minlength||1,this.C=t.boost,this.map=D?aa(r):v(),this.A=r=a.resolution||1,this.h=D?aa(r):v(),this.F=n&&n.F||t.rtl,this.H=(e=t.matcher||i&&i.H)&&fa(e,!1),this.J=(e=t.stemmer||i&&i.J)&&fa(e,!0),n=e=t.filter||i&&i.filter){n=e,i=v();for(var s=0,o=n.length;s<o;s++)i[n[s]]=1;n=i}this.filter=n,this.cache=(e=t.cache)&&new J(e)}function L(u,t,e,n,i){return e&&1<u?t+(n||0)<=u?e+(i||0):(u-1)/(t+(n||0))*(e+(i||0))+1|0:0}function M(u,t,e,n,i,r,D){var a=D?u.h:u.map;(!t[e]||D&&!t[e][D])&&(u.s&&(a=a[n]),D?((t=t[e]||(t[e]=v()))[D]=1,a=a[D]||(a[D]=v())):t[e]=1,a=a[e]||(a[e]=[]),u.s||(a=a[n]||(a[n]=[])),r&&-1!==a.indexOf(i)||(a[a.length]=i,u.m&&((u=u.register[i]||(u.register[i]=[]))[u.length]=a)))}function sa(u,t,e,n,i,r,D,a){var s=[],o=a?u.h:u.map;if(u.s||(o=ua(o,D,a,u.l)),o){for(var F,h,c=0,l=Math.min(o.length,a?u.A:u.D),f=0,d=0;f<l&&!((F=o[f])&&(u.s&&(F=ua(F,D,a,u.l)),i&&F&&r&&((h=F.length)<=i?(i-=h,F=null):(F=F.slice(i),i=0)),F&&(s[c++]=F,r&&(d+=F.length)>=n)));f++);if(c)return r?ta(s,n,0):void(t[t.length]=s)}return!e&&s}function ta(u,t,e){return u=1===u.length?u[0]:[].concat.apply([],u),e||u.length>t?u.slice(e,e+t):u}function ua(u,t,e,n){return e?u=(u=u[(n=n&&t>e)?t:e])&&u[n?e:t]:u=u[t],u}function N(u,t,e,n,i){var r=0;if(u.constructor===Array)if(i)-1!==(t=u.indexOf(t))?1<u.length&&(u.splice(t,1),r++):r++;else{i=Math.min(u.length,e);for(var D,a=0;a<i;a++)(D=u[a])&&(r=N(D,t,e,n,i),n||r||delete u[a])}else for(var s in u)(r=N(u[s],t,e,n,i))||delete u[s];return r}function va(u){u=u.data;var t=self._index,e=u.args,n=u.task;switch(n){case"init":n=u.options||{},u=u.factory,t=n.encode,n.cache=!1,t&&0===t.indexOf("function")&&(n.encode=Function("return "+t)()),u?(Function("return "+u)()(self),self._index=new self.FlexSearch.Index(n),delete self.FlexSearch):self._index=new K(n);break;default:u=u.id,t=t[n].apply(t,e),postMessage("search"===n?{id:u,msg:t}:{id:u})}}t=K.prototype,t.append=function(u,t){return this.add(u,t,!0)},t.add=function(u,t,e,n){if(t&&(u||0===u)){if(!n&&!e&&this.register[u])return this.update(u,t);if(n=(t=this.encode(t)).length){for(var i=v(),r=v(),D=this.depth,a=this.D,s=0;s<n;s++){var o=t[this.F?n-1-s:s],F=o.length;if(o&&F>=this.B&&(D||!r[o])){var h=L(a,n,s),c="";switch(this.G){case"full":if(3<F){for(h=0;h<F;h++)for(var l=F;l>h;l--)if(l-h>=this.B){var f=L(a,n,s,F,h);M(this,r,c=o.substring(h,l),f,u,e)}break}case"reverse":if(2<F){for(l=F-1;0<l;l--)(c=o[l]+c).length>=this.B&&M(this,r,c,L(a,n,s,F,l),u,e);c=""}case"forward":if(1<F){for(l=0;l<F;l++)(c+=o[l]).length>=this.B&&M(this,r,c,h,u,e);break}default:if(this.C&&(h=Math.min(h/this.C(t,o,s)|0,a-1)),M(this,r,o,h,u,e),D&&1<n&&s<n-1)for(F=v(),c=this.A,h=o,l=Math.min(D+1,n-s),F[h]=1,f=1;f<l;f++)if((o=t[this.F?n-1-s-f:s+f])&&o.length>=this.B&&!F[o]){F[o]=1;var d=this.l&&o>h;M(this,i,d?h:o,L(c+(n/2>c?0:1),n,s,l-1,f-1),u,e,d?o:h)}}}}this.m||(this.register[u]=1)}}return this},t.search=function(u,t,e){e||(!t&&C(u)?u=(e=u).query:C(t)&&(e=t));var n,i,r,D,a,s=[],o=0;if(e){t=e.limit,o=e.offset||0;var F=e.context;i=e.suggest}if(u&&1<(n=(u=this.encode(u)).length)){e=v();for(var h,c=[],l=0,f=0;l<n;l++)if((h=u[l])&&h.length>=this.B&&!e[h]){if(!(this.s||i||this.map[h]))return s;c[f++]=h,e[h]=1}n=(u=c).length}if(!n)return s;for(t||(t=100),e=0,(F=this.depth&&1<n&&!1!==F)?(r=u[0],e=1):1<n&&u.sort(ba);e<n;e++){if(a=u[e],F?(D=sa(this,s,i,t,o,2===n,a,r),i&&!1===D&&s.length||(r=a)):D=sa(this,s,i,t,o,1===n,a),D)return D;if(i&&e===n-1){if(!(c=s.length)){if(F){F=0,e=-1;continue}return s}if(1===c)return ta(s[0],t,o)}}return ma(s,t,o,i)},t.contain=function(u){return!!this.register[u]},t.update=function(u,t){return this.remove(u).add(u,t)},t.remove=function(u,t){var e=this.register[u];if(e){if(this.m)for(var n,i=0;i<e.length;i++)(n=e[i]).splice(n.indexOf(u),1);else N(this.map,u,this.D,this.s),this.depth&&N(this.h,u,this.A,this.s);if(t||delete this.register[u],this.cache){t=this.cache;for(var r,D=0;D<t.h.length;D++)r=t.h[D],-1!==t.cache[r].indexOf(u)&&(t.h.splice(D--,1),delete t.cache[r])}}return this},t.searchCache=oa,t.export=function(u,t,e,n,i){var r,D;switch(i||(i=0)){case 0:if(r="reg",this.m)for(var a in D=v(),this.register)D[a]=1;else D=this.register;break;case 1:r="cfg",D={doc:0,opt:this.s?1:0};break;case 2:r="map",D=this.map;break;case 3:r="ctx",D=this.h;break;default:return}return ra(u,t||this,e?e+"."+r:r,n,i,D),!0},t.import=function(u,t){if(t)switch(x(t)&&(t=JSON.parse(t)),u){case"cfg":this.s=!!t.opt;break;case"reg":this.m=!1,this.register=t;break;case"map":this.map=t;break;case"ctx":this.h=t}},la(K.prototype);var wa=0;function O(u){if(!(this instanceof O))return new O(u);var t;u?D(t=u.encode)&&(u.encode=t.toString()):u={},(t=(self||window)._factory)&&(t=t.toString());var e=self.exports,n=this;this.o=xa(t,e,u.worker),this.h=v(),this.o&&(e?this.o.on("message",(function(u){n.h[u.id](u.msg),delete n.h[u.id]})):this.o.onmessage=function(u){u=u.data,n.h[u.id](u.msg),delete n.h[u.id]},this.o.postMessage({task:"init",factory:t,options:u}))}function P(u){O.prototype[u]=O.prototype[u+"Async"]=function(){var t,e=this,n=[].slice.call(arguments),i=n[n.length-1];return D(i)&&(t=i,n.splice(n.length-1,1)),i=new Promise((function(t){setTimeout((function(){e.h[++wa]=t,e.o.postMessage({task:u,id:wa,args:n})}))})),t?(i.then(t),this):i}}function xa(a,b,c){var d;try{d=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+va.toString()],{type:"text/javascript"}))):new Worker(x(c)?c:"worker/worker.js",{type:"module"})}catch(u){}return d}function Q(t){if(!(this instanceof Q))return new Q(t);var e,n=t.document||t.doc||t;this.K=[],this.h=[],this.A=[],this.register=v(),this.key=(e=n.key||n.id)&&S(e,this.A)||"id",this.m=u(t.fastupdate),this.C=(e=n.store)&&!0!==e&&[],this.store=e&&v(),this.I=(e=n.tag)&&S(e,this.A),this.l=e&&v(),this.cache=(e=t.cache)&&new J(e),t.cache=!1,this.o=t.worker,this.async=!1,e=v();var i=n.index||n.field||n;x(i)&&(i=[i]);for(var r,D,a=0;a<i.length;a++)x(r=i[a])||(D=r,r=r.field),D=C(D)?Object.assign({},t,D):t,this.o&&(e[r]=new O(D),e[r].o||(this.o=!1)),this.o||(e[r]=new K(D,this.register)),this.K[a]=S(r,this.A),this.h[a]=r;if(this.C)for(x(t=n.store)&&(t=[t]),n=0;n<t.length;n++)this.C[n]=S(t[n],this.A);this.index=e}function S(u,t){for(var e=u.split(":"),n=0,i=0;i<e.length;i++)0<=(u=e[i]).indexOf("[]")&&(u=u.substring(0,u.length-2))&&(t[n]=!0),u&&(e[n++]=u);return n<e.length&&(e.length=n),1<n?e:e[0]}function T(u,t){if(x(t))u=u[t];else for(var e=0;u&&e<t.length;e++)u=u[t[e]];return u}function U(u,t,e,n,i){if(u=u[i],n===e.length-1)t[i]=u;else if(u)if(u.constructor===Array)for(t=t[i]=Array(u.length),i=0;i<u.length;i++)U(u,t,e,n,i);else t=t[i]||(t[i]=v()),i=e[++n],U(u,t,e,n,i)}function V(u,t,e,n,i,r,D,a){if(u=u[D])if(n===t.length-1){if(u.constructor===Array){if(e[n]){for(t=0;t<u.length;t++)i.add(r,u[t],!0,!0);return}u=u.join(" ")}i.add(r,u,a,!0)}else if(u.constructor===Array)for(D=0;D<u.length;D++)V(u,t,e,n,i,r,D,a);else D=t[++n],V(u,t,e,n,i,r,D,a)}function ya(u,t,e,n){var i=this.l[u],r=i&&i.length-e;if(r&&0<r)return(r>t||e)&&(i=i.slice(e,e+t)),n&&(i=za.call(this,i)),{tag:u,result:i}}function za(u){for(var t,e=Array(u.length),n=0;n<u.length;n++)t=u[n],e[n]={id:t,doc:this.store[t]};return e}P("add"),P("append"),P("search"),P("update"),P("remove"),t=Q.prototype,t.add=function(u,t,e){if(C(u)&&(u=T(t=u,this.key)),t&&(u||0===u)){if(!e&&this.register[u])return this.update(u,t);for(var n,i,r=0;r<this.h.length;r++)i=this.h[r],x(n=this.K[r])&&(n=[n]),V(t,n,this.A,0,this.index[i],u,n[0],e);if(this.I){var D=T(t,this.I),a=v();x(D)&&(D=[D]);for(var s,o,F=0;F<D.length;F++)if(!a[s=D[F]]&&(a[s]=1,o=this.l[s]||(this.l[s]=[]),!e||-1===o.indexOf(u))&&(o[o.length]=u,this.m)){var h=this.register[u]||(this.register[u]=[]);h[h.length]=o}}if(this.store&&(!e||!this.store[u])){var c;if(this.C){c=v();for(var l,f=0;f<this.C.length;f++)x(l=this.C[f])?c[l]=t[l]:U(t,c,l,0,l[0])}this.store[u]=c||t}}return this},t.append=function(u,t){return this.add(u,t,!0)},t.update=function(u,t){return this.remove(u).add(u,t)},t.remove=function(u){if(C(u)&&(u=T(u,this.key)),this.register[u]){for(var t=0;t<this.h.length&&(this.index[this.h[t]].remove(u,!this.o),!this.m);t++);if(this.I&&!this.m)for(var e in this.l){var n=(t=this.l[e]).indexOf(u);-1!==n&&(1<t.length?t.splice(n,1):delete this.l[e])}this.store&&delete this.store[u],delete this.register[u]}return this},t.search=function(u,t,e,n){e||(!t&&C(u)?u=(e=u).query:C(t)&&(e=t,t=0));var i,r,D,a,s,o,F=[],h=[],c=0;if(e)if(e.constructor===Array)D=e,e=null;else{if(D=(i=e.pluck)||e.index||e.field,a=e.tag,r=this.store&&e.enrich,s="and"===e.bool,t=e.limit||100,o=e.offset||0,a&&(x(a)&&(a=[a]),!u)){for(var l,f=0;f<a.length;f++)(l=ya.call(this,a[f],t,o,r))&&(F[F.length]=l,c++);return c?F:[]}x(D)&&(D=[D])}D||(D=this.h),s=s&&(1<D.length||a&&1<a.length);for(var d,E,A,g=!n&&(this.o||this.async)&&[],p=0;p<D.length;p++){var B=void 0;if(x(E=D[p])||(B=E,E=E.field),g)g[p]=this.index[E].searchAsync(u,t,B||e);else{if(A=(d=n?n[p]:this.index[E].search(u,t,B||e))&&d.length,a&&A){var v=[],m=0;s&&(v[0]=[d]);for(var y,b,k=0;k<a.length;k++)y=a[k],(A=(b=this.l[y])&&b.length)&&(m++,v[v.length]=s?[b]:b);m&&(A=(d=s?ma(v,t||100,o||0):na(d,v)).length)}if(A)h[c]=E,F[c++]=d;else if(s)return[]}}if(g){var w=this;return new Promise((function(n){Promise.all(g).then((function(i){n(w.search(u,t,e,i))}))}))}if(!c)return[];if(i&&(!r||!this.store))return F[0];for(var S,O=0;O<h.length;O++){if((S=F[O]).length&&r&&(S=za.call(this,S)),i)return S;F[O]={field:h[O],result:S}}return F},t.contain=function(u){return!!this.register[u]},t.get=function(u){return this.store[u]},t.set=function(u,t){return this.store[u]=t,this},t.searchCache=oa,t.export=function(u,t,e,n,i){if(i||(i=0),n||(n=0),n<this.h.length){var r=this.h[n],D=this.index[r];t=this,setTimeout((function(){D.export(u,t,i?r.replace(":","-"):"",n,i++)||(n++,i=1,t.export(u,t,r,n,i))}))}else{var a;switch(i){case 1:e="tag",a=this.l;break;case 2:e="store",a=this.store;break;default:return}ra(u,this,e,n,i,a)}},t.import=function(u,t){if(t)switch(x(t)&&(t=JSON.parse(t)),u){case"tag":this.l=t;break;case"reg":this.m=!1,this.register=t;for(var e,n=0;n<this.h.length;n++)(e=this.index[this.h[n]]).register=t,e.m=!1;break;case"store":this.store=t;break;default:var i=(u=u.split("."))[0];u=u[1],i&&u&&this.index[i].import(u,t)}},la(Q.prototype);var Ba={encode:Aa,F:!1,G:""},Ca=[F("[àáâãäå]"),"a",F("[èéêë]"),"e",F("[ìíîï]"),"i",F("[òóôõöő]"),"o",F("[ùúûüű]"),"u",F("[ýŷÿ]"),"y",F("ñ"),"n",F("[çc]"),"k",F("ß"),"s",F(" & ")," and "];function Aa(u){var t=u;return t.normalize&&(t=t.normalize("NFD").replace(ea,"")),ca.call(this,t.toLowerCase(),!u.normalize&&Ca)}var Ea={encode:Da,F:!1,G:"strict"},Fa=/[^a-z0-9]+/,Ga={b:"p",v:"f",w:"f",z:"s",x:"s","ß":"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Da(u){var t=[];if(u=Aa.call(this,u).join(" "))for(var e,n=u.split(Fa),i=n.length,r=0,D=0;r<i;r++)if((u=n[r])&&(!this.filter||!this.filter[u])){e=u[0];for(var a=Ga[e]||e,s=a,o=1;o<u.length;o++){e=u[o];var F=Ga[e]||e;F&&F!==s&&(a+=F,s=F)}t[D++]=a}return t}var Ia={encode:Ha,F:!1,G:""},Ja=[F("ae"),"a",F("oe"),"o",F("sh"),"s",F("th"),"t",F("ph"),"f",F("pf"),"f",F("(?![aeo])h(?![aeo])"),"",F("(?!^[aeo])h(?!^[aeo])"),""];function Ha(u,t){return u&&(2<(u=Da.call(this,u).join(" ")).length&&(u=E(u,Ja)),t||(1<u.length&&(u=ha(u)),u&&(u=u.split(" ")))),u}var La={encode:Ka,F:!1,G:""},Ma=F("(?!\\b)[aeo]");function Ka(u){return u&&(1<(u=Ha.call(this,u,!0)).length&&(u=u.replace(Ma,"")),1<u.length&&(u=ha(u)),u&&(u=u.split(" "))),u}G["latin:default"]=ja,G["latin:simple"]=Ba,G["latin:balance"]=Ea,G["latin:advanced"]=Ia,G["latin:extra"]=La;var W=self,Y,Z={Index:K,Document:Q,Worker:O,registerCharset:function(u,t){G[u]=t},registerLanguage:function(u,t){ka[u]=t}};(Y=W.define)&&Y.amd?Y([],(function(){return Z})):W.exports?W.exports=Z:W.FlexSearch=Z}(this)}).call(this,__webpack_require__(2)(module))},function(u,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return a}));var n=e(0);function i(u,t){return function(u){if(Array.isArray(u))return u}(u)||function(u,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(u)))return;var e=[],n=!0,i=!1,r=void 0;try{for(var D,a=u[Symbol.iterator]();!(n=(D=a.next()).done)&&(e.push(D.value),!t||e.length!==t);n=!0);}catch(u){i=!0,r=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e}(u,t)||function(u,t){if(!u)return;if("string"==typeof u)return r(u,t);var e=Object.prototype.toString.call(u).slice(8,-1);"Object"===e&&u.constructor&&(e=u.constructor.name);if("Map"===e||"Set"===e)return Array.from(u);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(u,t)}(u,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(u,t){(null==t||t>u.length)&&(t=u.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=u[e];return n}function D(u,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}var a=function(){function u(t){!function(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.config={url:window.location.origin,key:"",version:"v3",loadOn:"focus",searchOn:"keyup",limit:10,inputId:["search-bar"],outputId:["search-results"],outputChildsType:"li",postsFields:["title","url","excerpt","custom_excerpt","published_at","feature_image"],postsExtraFields:["tags"],postsFormats:["plaintext"],indexedFields:["title","string_tags","excerpt","plaintext"],template:function(u){var t='<a href="'.concat(u.url,'">');return u.feature_image&&(t+='<img src="'.concat(u.feature_image,'">')),t+="<section>",u.tags.length>0?t+='<header>\n                            <span class="head-tags">'.concat(u.tags[0].name,'</span>\n                            <span class="head-date">').concat(u.published_at,"</span>\n                          </header>"):t+='<header>\n                            <span class="head-tags">UNKNOWN</span>\n                            <span class="head-date">'.concat(u.published_at,"</span>\n                          </header>"),t+="<h2>".concat(u.title,"</h2>"),t+="</section></a>"},emptyTemplate:function(){},customProcessing:function(u){return u.tags&&(u.string_tags=u.tags.map((function(u){return u.name})).join(" ").toLowerCase()),u},date:{locale:document.documentElement.lang||"en-US",options:{year:"numeric",month:"short",day:"numeric"}},cacheMaxAge:1800,onFetchStart:function(){},onFetchEnd:function(u){},onIndexBuildStart:function(){},onIndexBuildEnd:function(u){},onSearchStart:function(){},onSearchEnd:function(u){},indexOptions:{},searchOptions:{},debug:!1},this.dataLoaded=!1,this.postsCount=0,this.storage=this.getLocalStorageOption(),this.initConfig(t),this.triggerDataLoad()}var t,e,r;return t=u,(e=[{key:"initConfig",value:function(u){for(var t=this,e=0,n=Object.entries(u);e<n.length;e++){var r=i(n[e],2),D=r[0],a=r[1];this.config[D]=a}Array.isArray(this.config.inputId)||(this.config.inputId=[this.config.inputId]),Array.isArray(this.config.outputId)||(this.config.outputId=[this.config.outputId]),this.config.searchOptions.limit=this.config.limit,this.originalPostsFields=this.config.postsFields,this.config.postsFields.includes("updated_at")||this.config.postsFields.push("updated_at"),this.config.inputId&&this.config.inputId.length>0&&(this.searchBarEls=[],this.config.inputId.forEach((function(u){var e=document.getElementById(u);e?(t.searchBarEls.push(e),t.addSearchListeners(e)):t.error("Enable to find the input element #".concat(u,", please check your configuration"))}))),this.config.outputId&&this.config.outputId.length>0&&(this.searchResultEls=[],this.config.outputId.forEach((function(u){var e=document.getElementById(u);e?t.searchResultEls.push(e):t.error("Enable to find the output element #".concat(u,", please check your configuration"))}))),this.index=this.getNewSearchIndex()}},{key:"addSearchListeners",value:function(u){var t=this,e=u.closest("form");switch(e&&e.addEventListener("submit",(function(u){u.preventDefault()})),this.config.searchOn){case"keyup":u.addEventListener("keyup",(function(){var e=u.value.toLowerCase();t.search(e)}));break;case"submit":e.addEventListener("submit",(function(){var e=u.value.toLowerCase();t.search(e)}));break;case!1:case"none":break;default:this.error('Unknown "searchOn" option: \''.concat(this.config.searchOn,"'"))}}},{key:"triggerDataLoad",value:function(){var u=this;switch(this.config.loadOn){case"focus":this.searchBarEls.forEach((function(t){t.addEventListener("focus",(function(){u.loadData()}))}));break;case"page":window.addEventListener("load",(function(){u.loadData()}));break;case!1:case"none":break;default:this.error('Unknown "loadOn" option: \''.concat(this.config.loadOn,"'"))}}},{key:"loadData",value:function(){if(!this.dataLoaded){if(!this.storage)return this.log("No local storage available, switch to degraded mode"),void this.fetch();var u=this.storage.getItem("SearchinGhost_index");u?(this.log("Found an index stored locally, loads it"),this.config.onIndexBuildStart(),this.index.import(u),this.dataLoaded=!0,this.config.onIndexBuildEnd(this.index),this.validateCache()):(this.log("No already stored index found"),this.fetch())}}},{key:"validateCache",value:function(){var u=this,t=this.storage.getItem("SearchinGhost_cache_info");if(!t)return this.log("No cache info local object found"),void this.fetch();var e=JSON.parse(t),n=new Date(e.lastCacheCheck),i=Math.round((new Date-n)/1e3);if(i<this.config.cacheMaxAge)this.log("Skip cache refreshing, updated less than ".concat(this.config.cacheMaxAge,"s ago (").concat(i,"s)"));else{var r=this.buildUrl({limit:1,fields:["updated_at"],order:"updated_at DESC"});fetch(r).then((function(u){return u.json()})).then((function(t){var n=t.posts[0].updated_at,i=t.meta.pagination.total;n!==e.lastestPostUpdatedAt?(u.log("Posts update found, purge outdated local cache"),u.fetch()):i<e.totalPosts?(u.log("Deleted or unpublished posts found, purge outdated local cache"),u.fetch()):(u.log("Local cached data up to date"),e.lastCacheCheck=(new Date).toISOString(),u.storage.setItem("SearchinGhost_cache_info",JSON.stringify(e)))})).catch((function(u){console.error("Unable to fetch the latest post information to check cache state",u)}))}}},{key:"fetch",value:function(u){function t(){return u.apply(this,arguments)}return t.toString=function(){return u.toString()},t}((function(){var u=this;this.log("Fetching data from Ghost API"),this.config.onFetchStart();var t={limit:"all",fields:this.config.postsFields,order:"updated_at DESC"};this.config.postsExtraFields.length>0&&(t.include=this.config.postsExtraFields),this.config.postsFormats.length>0&&(t.formats=this.config.postsFormats);var e=this.buildUrl(t);fetch(e).then((function(u){return u.json()})).then((function(t){var e=t.posts;if(u.config.onFetchEnd(e),u.config.onIndexBuildStart(),u.index=u.getNewSearchIndex(),e.forEach((function(t){var e=u.format(t);e&&u.index.add(e)})),u.dataLoaded=!0,u.config.onIndexBuildEnd(u.index),u.storage){var n={lastCacheCheck:(new Date).toISOString(),lastestPostUpdatedAt:e[0].updated_at,totalPosts:t.meta.pagination.total};u.storage.setItem("SearchinGhost_index",u.index.export()),u.storage.setItem("SearchinGhost_cache_info",JSON.stringify(n))}u.log("Search index build complete")})).catch((function(t){u.error("Unable to fetch Ghost data.\n",t)}))}))},{key:"format",value:function(u){return u.id=this.postsCount++,u.published_at=this.prettyDate(u.published_at),this.originalPostsFields.includes("updated_at")||delete u.updated_at,u.custom_excerpt&&(u.excerpt=u.custom_excerpt,delete u.custom_excerpt),u=this.config.customProcessing(u)}},{key:"search",value:function(u){this.loadData(),this.config.onSearchStart();var t=this.index.search(u,this.config.searchOptions);return this.searchResultEls&&this.searchResultEls.length>0&&this.display(t),this.config.onSearchEnd(t),t}},{key:"display",value:function(u){var t=this;this.searchResultEls.forEach((function(u){u.innerHTML=""})),u.length<1?this.insertTemplate(this.config.emptyTemplate()):u.forEach((function(u){t.insertTemplate(t.config.template(u))}))}},{key:"insertTemplate",value:function(u){var t=this;u&&this.searchResultEls.forEach((function(e){if(t.config.outputChildsType){var n=document.createElement(t.config.outputChildsType);n.classList.add("".concat(e.id,"-item")),n.innerHTML=u,e.appendChild(n)}else e.insertAdjacentHTML("beforeend",u)}))}},{key:"getNewSearchIndex",value:function(){for(var u={doc:{id:"id",field:this.config.indexedFields},encode:"simple",tokenize:"forward",threshold:0,resolution:4,depth:0},t=0,e=Object.entries(this.config.indexOptions);t<e.length;t++){var r=i(e[t],2),D=r[0],a=r[1];u[D]=a}return new n.Index(u)}},{key:"buildUrl",value:function(u){for(var t="".concat(this.config.url,"/ghost/api/").concat(this.config.version,"/content/posts/?key=").concat(this.config.key),e=0,n=Object.entries(u);e<n.length;e++){var r=i(n[e],2),D=r[0],a=r[1];t+="&".concat(D,"=").concat(a)}return encodeURI(t)}},{key:"prettyDate",value:function(u){return new Date(u).toLocaleDateString(this.config.date.locale,this.config.date.options)}},{key:"getLocalStorageOption",value:function(){try{return window.localStorage.setItem("storage-availability-test",""),window.localStorage.removeItem("storage-availability-test"),window.localStorage}catch(u){return}}},{key:"log",value:function(u,t){this.config.debug&&(t?console.log(u,t):console.log(u))}},{key:"error",value:function(u,t){t?console.error(u,t):console.error(u)}}])&&D(t.prototype,e),r&&D(t,r),u}()},function(u,t){u.exports=function(u){return u.webpackPolyfill||(u.deprecate=function(){},u.paths=[],u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),u.webpackPolyfill=1),u}}]).default;